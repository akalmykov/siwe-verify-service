# Welcome to SIWE-Verify-Service

The `cdk.json` file tells the CDK Toolkit how to execute your app.

## Test cases

```sh
curl -X POST \
     -H "Content-Type: application/json" \
     -d '{"chainId": 84532, "address": "0x26692e752267b18e96f6386e4bE2ca58993148Fa", "nonce": "12345678", "issuedAt": "2024-10-26T23:33:04.275Z", "domain": "localhost:5173", "uri": "http://localhost:5173", "version": "1","statement": "Smart Wallet SIWE Example", "signature":"0x000000000000000000000000ca11bde05977b3631167028862be2a173976ca110000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000001e482ad56cb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000ba5ed0c6aa8c49038f819e587e2633c4a9f428a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000e43ffba36f00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000040e583905e0537a80abc6ad1597aeb1dfa88f8e445632d2c5e25ca7b136a902fbacd82c4c14859af59c5eef6b85d52f8b5838d96adb6ee0ed8b06ea5f963c658ea000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002e00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000260000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001b2cd7303885c43a656da0c08a884ec0c0717e47093adbc55b8893a8566edc27d35436e0ed3fc4c1aa162e47e4414188374082a1464a72f3c113cb16bfa446dd20000000000000000000000000000000000000000000000000000000000000025f198086b2db17256731bc456673b96bcef23f51d1fbacdd7c4379ef65465572f1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f77b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a224d7a545775366c5565723633764c703842766e72797842645f7577364533357a4f7542393061765754714d222c226f726967696e223a2268747470733a2f2f6b6579732e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73652c226f746865725f6b6579735f63616e5f62655f61646465645f68657265223a22646f206e6f7420636f6d7061726520636c69656e74446174614a534f4e20616761696e737420612074656d706c6174652e205365652068747470733a2f2f676f6f2e676c2f796162506578227d0000000000000000006492649264926492649264926492649264926492649264926492649264926492"}' \
     https://bph3yyq8q4.execute-api.us-east-1.amazonaws.com/prod/verify

```

Second test case:

```sh
curl -X POST \
     -H "Content-Type: application/json" \
     -d '{
    "chainId": 84532,
    "address": "0xc68807C96781BCf75866450a9B67382123847920",
    "nonce": "8A9RGFSFC18UK8MG3MF42I5K0KY6WH6O",
    "issuedAt": "2024-11-24T12:55:12.699Z",
    "domain": "wallet.cheeze.com",
    "uri": "https://wallet.cheeze.com",
    "version": "1",
    "statement": "Smart Wallet SIWE Example",
    "signature": "0x000000000000000000000000ca11bde05977b3631167028862be2a173976ca110000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000001e482ad56cb0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000ba5ed0c6aa8c49038f819e587e2633c4a9f428a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000f43ffba36f00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000040c5b7eae05ccb83090d2d01f254d7cf6a55a304f8ce297d2950f5f079c8b88c93a7c03b0f2777d4da7efa1d152892f400b6bb30b13bcc112c33804d3524ad2ae3e15b0a8c44ecad456533d0110ead2ce00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001409e3b0b1a08b6d3c11e9eea8b7475056079fe85902483616c3987e0dfb0f32e31c020c629d54a804caa01c164dd6e491e27df3537c34f3be04d0694676f92700000000000000000000000000000000000000000000000000000000000000025f198086b2db17256731bc456673b96bcef23f51d1fbacdd7c4379ef65465572f0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a22394e30657848395771637470774357396c634f54585939786e326873715358354d5a6e5831364c4f35546f222c226f726967696e223a2268747470733a2f2f6b6579732e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d000000000000000000000000000000000000000000006492649264926492649264926492649264926492649264926492649264926492"}' \
     http://localhost:3000/verify

```

## Useful commands

- `sam local start-api -t cdk.out/SiweVerifyServiceStack.template.json`
- `npm run build` compile typescript to js
- `npm run watch` watch for changes and compile
- `npm run test` perform the jest unit tests
- `npx cdk deploy` deploy this stack to your default AWS account/region
- `npx cdk diff` compare deployed stack with current state
- `npx cdk synth` emits the synthesized CloudFormation template
